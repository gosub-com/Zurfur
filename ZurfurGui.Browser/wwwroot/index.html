<!DOCTYPE html>


<!--
    This script fixes the base problem
    see: https://blog.elmah.io/how-to-fix-blazor-wasm-base-path-problems/
-->
<base />
<script>
    console.log("Loaded HTML");
    var path = window.location.pathname.split('/');
    var base = document.getElementsByTagName('base')[0];
    if (window.location.host.includes('localhost')) {
        base.setAttribute('href', '/');
    } else if (path.length > 2) {
        base.setAttribute('href', '/' + path[1] + '/');
    } else if (path[path.length - 1].length != 0) {
        window.location.replace(window.location.origin + window.location.pathname + '/' + window.location.search);
    }
</script>


<html lang="en">
<head>
    <meta charset="UTF-8" />

    <!-- Preload stuff ASAP -->
    <link rel="prefetch" href="./_framework/dotnet.native.wasm" /> <!-- BIG -->
    <link rel="modulepreload" href="./main.js" />
    <link rel="modulepreload" href="./_framework/dotnet.js" />
    <link rel="prefetch" href="./_framework/blazor.boot.json" />
    <style>
        .splash {
            position: absolute;
            height: 100%;
            width: 100%;
            background: white;
            font-family: 'Outfit', sans-serif;
            justify-content: center;
            align-items: center;
            display: flex;
            pointer-events: none;
        }

        .splash h2 {
            font-size: 2rem;
        }

    </style>
</head>
<body style="margin:0; overflow:hidden;">
    <div id="splash" class="splash">
        <h2 id="splash-text">Loading Zurfur Gui...</h2>
    </div>

    <canvas id="canvasMain" style="margin:0;border: 0;width:800px;height:600px" />

    <script type="module">
        console.log("Loading app...")
        import { start } from "./main.js";
        await start();
    </script>
</body>
</html>
